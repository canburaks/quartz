---
tags:
  - kms
  - encryption
---
## KMS Features [🔗](https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#master_keys)
- Protect your master keys by storing and managing them securely
- Envelope encryption is the practice of encrypting plaintext data with a data key, and then encrypting the data key under another key.
- KMS keys are protected by hardware security modules (HSMs).
- Can be integrated with AWS CloudTrail to log the use of your KMS keys for 
	- Auditing
	- Regulatory and compliance needs.
- 🔐 To encrypt data locally 
	- 1️⃣ Use the `GenerateDataKey` operation to get a data #encryption key.
	- 2️⃣ Use the #plaintext data key (returned in the `Plaintext` field of the response) to encrypt data locally, then erase the plaintext data key from memory.
	- 3️⃣ Store the encrypted data key (returned in the `CiphertextBlob` field of the response) alongside the locally encrypted data.
- 🔑 To decrypt data locally:
	- 1️⃣ Use the `Decrypt` operation to decrypt the encrypted data key. The operation returns a plaintext copy of the data key.
	- 2️⃣ Use the plaintext data key to decrypt data locally, then erase the plaintext data key from memory.
- – Create symmetric and asymmetric keys where the key material is only ever used within the service
- – Create symmetric keys where the key material is generated and used within a custom key store under your control.
- – Import your own symmetric key for use within the service.
- – Create both symmetric and asymmetric data key pairs for local use within your applications.
- – Define which IAM users and roles can manage keys.
- – Define which IAM users and roles can use keys to encrypt and decrypt data.
- – Choose to have keys that were generated by the service to be automatically rotated on an annual basis.
- – Temporarily disable keys so they cannot be used by anyone.
- – Re-enable disabled keys.
- – Schedule the deletion of keys that you no longer use.
- – Audit the use of keys by inspecting logs in AWS CloudTrail.
- Key states:
	- Enabled
	- Disabled
	- PendingDeletion
	- PendingImport (Only for imported keys)


Sources
- [AWS Database Encryption SDK](https://docs.aws.amazon.com/database-encryption-sdk/latest/devguide/what-is-database-encryption-sdk.html)

